<%- include('header.ejs') %>

<% if (locals.data){ %>
    <% var pokemonObject = data; %>

<% }else { %>
    <% var pokemonData = {
        "number": 658,
        "name": "Greninja",
        "gen": 6,
        "species": "Ninja Pokémon",
        "types": [
          "Water",
          "Dark"
        ],
        "abilities": [
          {
            "name": "Torrent",
            "description": "Powers up Water-type moves in a pinch.",
            "hidden": false
          },
          {
            "name": "Protean",
            "description": "Changes the Pokémon's type to its last used move.",
            "hidden": true
          }
        ],
        "height": "1.5 m (4′11″)",
        "weight": "40.0 kg (88.2 lbs)",
        "mega": false,
        "baseStats": {
          "hp": 72,
          "attack": 95,
          "defense": 67,
          "spAtk": 103,
          "spDef": 71,
          "speed": 122
        },
        "training": {
          "evYield": "3 Speed",
          "catchRate": "45 (5.9% with PokéBall, full HP)",
          "baseFriendship": "50 (normal)",
          "baseExp": "265",
          "growthRate": "Medium Slow"
        },
        "breeding": {
          "gender": "87.5% male, 12.5% female",
          "eggGroups": [
            "Water 1"
          ],
          "eggCycles": "20 (4,884–5,140 steps)"
        },
        "sprite": "https://img.pokemondb.net/sprites/home/normal/greninja.png"
    }; %>
    <% var pokemonObject = pokemonData; %>
<% } %>

<% var types = ""; %>
<% for (var i=0; i<pokemonObject.types.length; i++){ %>
    <% types += `${pokemonObject.types[i]} ` %>
<% } %>
<% var imageLink = pokemonObject.sprite; %>

<body>
    <div id="info-container">

        <div id="image-box">
            <img id="pokemon-info-image" src=<%= imageLink %> alt="">
        </div>

        <div id="basic-info">
            <h3>Identity: </h3>
            <ul>
                <li>Name: <%- pokemonObject.name  %> </li>
                <li>Generation: <%- pokemonObject.gen  %></li>
                <li>Species: <%- pokemonObject.species  %></li>
                <li>Types: <%- types  %> </li>
                <li>Height: <%- pokemonObject.heigth  %></li>
                <li>Weight: <%- pokemonObject.weight  %></li>
            </ul>
            
        </div>

        <div id="info-abilities">
            <h3>Abilities: </h3>
            <ul>
                <% for (var i=0; i<pokemonObject.abilities.length; i++){ %>
                    <li>
                        <div id="ability">
                            <b><%- pokemonObject.abilities[i].name %></b>
                            <p><%- pokemonObject.abilities[i].description %></p>
                        </div>
                    </li>
                <% } %>
            </ul>
        </div>

        <div id="info-base-stats">
            <h3>Base Stats: </h3>
            <ul>
                <li>Hp: <%- pokemonObject.baseStats.hp %></li>
                <li>Attack: <%- pokemonObject.baseStats.attack %></li>
                <li>Defense: <%- pokemonObject.baseStats.defense %></li>
                <li>Special Attack: <%- pokemonObject.baseStats.spAtk %></li>
                <li>Special Defense: <%- pokemonObject.baseStats.spDef %></li>
                <li>Speed: <%- pokemonObject.baseStats.speed %></li>
            </ul>
        </div>

        <div id="info-training">
            <h3>Training: </h3>
            <ul>
                <li>Effort Value Yield: <%- pokemonObject.training.evYield %> </li>
                <li>Catch Rate: <%- pokemonObject.training.catchRate %> </li>
                <li>Base Friendship: <%- pokemonObject.training.baseFriendship %> </li>
                <li>Base EXP: <%- pokemonObject.training.baseFriendship %> </li>
                <li>Growth Rate: <%- pokemonObject.training.growthRate %> </li>
            </ul>
        </div>

        <div id="info-breeding">
            <h3>Breeding: </h3>
            <ul>
                <li>Gender Ratio: <%- pokemonObject.breeding.gender %> </li>
                <li>Egg Groups: </li>
                <li>
                    <ul id="info-breeding-egg-groups">
                        <% for(var i=0; i<pokemonObject.breeding.eggGroups.length; i++){ %>
                            <li> <%- pokemonObject.breeding.eggGroups[i] %> </li>
                        <% } %>
                    </ul>
                </li>
                <li>Egg Cycles: <%- pokemonObject.breeding.eggCycles %> </li>
            </ul>
        </div>

    </div>
</body>

<%- include('footer.ejs') %>